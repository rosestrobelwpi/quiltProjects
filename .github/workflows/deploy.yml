name: Debug GitHub Secrets

on:
  workflow_dispatch  # Allows manual 

jobs:
  print-secrets:
    runs-on: ubuntu-latest
    steps:
      - name: List All Available Secrets
        run: |
          echo "üîç Checking GitHub Secrets..."
          echo "=================================="
          echo "EC2_HOST: ${{ secrets.EC2_HOST }}"
          echo "EC2_USERNAME: ${{ secrets.EC2_USERNAME }}"
          echo "DOCKERHUB_USERNAME: ${{ secrets.DOCKERHUB_USERNAME }}"
          echo "DOCKERHUB_REPO: ${{ secrets.DOCKERHUB_REPO }}"
          echo "GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}"
          echo "=================================="

      - name: Check if SSH Key Exists
        run: |
          if [ -z "${{ secrets.EC2_SSH_KEY }}" ]; then
            echo "‚ùå EC2_SSH_KEY is EMPTY!"
            exit 1
          else
            echo "‚úÖ EC2_SSH_KEY is set."
            echo "First 50 characters of SSH Key:"
            echo "${{ secrets.EC2_SSH_KEY }}" | head -c 50
          fi

